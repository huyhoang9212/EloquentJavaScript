<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
</head>
<body>
    <script>
        
        var rabbit = {};
        function speak(line) {
            console.log("The " + this.type + " rabbit says: " + line);
        }

        var whiteRabbit = { type: "White", speak: speak };
        var blackRabbit = { type: "Black", speak: speak };
        whiteRabbit.speak("Oh I am a live!");
        blackRabbit.speak("Oh so sad, I don't like my color!");

        // Prototype
        console.log(Object.getPrototypeOf({}));
        console.log(Object.getPrototypeOf(Object.prototype));
        console.log(Object.getPrototypeOf(isNaN));
        console.log(Function.prototype);

        // Use Object.create to create an object with a specific prototype
        var protoRabbit = {
            speak: function (line) {
                console.log("The " + this.type + " rabbit says: " + line);
            }
        };

        var killerRabbit = Object.create(protoRabbit);
        killerRabbit.type = "killer";
        killerRabbit.speak("SKREEEEEEE");

        // Constructors
        function Rabbit(type) {
            this.type = type;
        }
        var killer2Rabbit = new Rabbit("killer");
        var blackRabbit = new Rabbit("black");
        Rabbit.prototype.speak = function (line) {
            console.log("The " + this.type + " rabbit says: " + line);
        }
        killer2Rabbit.speak("killer");

        // Overriding derived properties
        // Prototype interface


        // Getters and setters
        var pile = {
            elements: ["eggshell", "orange peel", "worm"],
            get height() {
                return this.elements.length;
            },
            set height(value) {
                console.log("Ignoring attempt to set height to", value);
            }
        };
        console.log(pile.height);
        pile.height = 100;


        // Exercies
        function Vector(x, y) {
            this.x = x;
            this.y = y;
            this.plus = function (vector) {
                return new Vector(this.x + vector.x, this.y + vector.y);
            };
        }

        Vector.prototype.minus = function (other) {
            return new Vector(this.x - other.x, this.y - other.y);
        };

        Object.defineProperty(Vector.prototype, "length", {
            get: function () {
                return Math.sqrt(this.x * this.x + this.y * this.y);
            }
        });

        console.log(new Vector(1, 2).plus(new Vector(2, 3)));
        // → Vector{x: 3, y: 5}
        console.log(new Vector(1, 2).minus(new Vector(2, 3)));
        // → Vector{x: -1, y: -1}
        console.log(new Vector(3, 4).length);
        // → 5
    </script>

</body>
</html>
